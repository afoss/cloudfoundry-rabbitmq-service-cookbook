---
mbus: <%= cf_mbus_url %>
index: 0

cloud_controller_uri: <%= cloud_controller_url %>

service:
  name: rabbitmq
  version: "2.4"
  description: "RabbitMQ message queue"
  plans: ["free"]
  default_plan: 'free'
  tags: ["rabbitmq", "rabbitmq-2.4", "message-queue", "amqp"]
  supported_versions: [<%= cfservicegw_supported_versions_string('rabbitmq') %>]
  version_aliases:
  <% node['cloudfoundry_rabbitmq_service']['gateway']['version_aliases'].each do |a, v| %>
    "<%= a %>": "<%= v %>"
  <% end %>
  timeout: <%= node['cloudfoundry_rabbitmq_service']['gateway']['timeout'] %>

host: localhost
token: <%= node['cloudfoundry']['service_token'] %>
logging:
  level: <%= node['cloudfoundry_rabbitmq_service']['gateway']['log_level'] %>
  file: <%= @log_file %>

pid: <%= @pid_file %>
node_timeout: <%= node['cloudfoundry_rabbitmq_service']['gateway']['node_timeout'] %>

plan_management:
  plans:
    free:
      low_water: 10
      high_water: 180
      #allow_over_provisioning: false
